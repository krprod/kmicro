server:
      port: 8095
spring:
      application:
            name: payment
      profiles:
            active: "prod"
      datasource:
            url: jdbc:postgresql://localhost:5432/springmicro?currentSchema=payment_schema
            username: bloguser
            password: bloguser
      driver-class-name: org.postgresql.Driver
      hikari:
            pool-name: paymentServiceHikariPool
            maximum-pool-size: 10
            minimum-idle: 5
            idle-timeout: 300000 # 5 minutes
            connection-timeout: 20000 # 20 seconds
            max-lifetime: 1200000 # 20 minutes
            auto-commit: true
      flyway:
            enabled: true
            schemas: payment_schema
            baseline-on-migrate: true # Crucial for existing databases
            out-of-order: false        # Strict linear progression in prod
            lock-retry-count: 50 # Retries before failing
            locations:
                  - classpath:db/migration
            table: payment_schema_history
      jpa:
            hibernate:
                  ddl-auto: validate
            show-sql: true
#      kafka:
#            bootstrap-servers: localhost:9092
#            consumer:
#                  group-id: payment-group
#                  auto-offset-reset: earliest
#                  key-deserializer: org.apache.kafka.common.serialization.StringDeserializer
#                  value-deserializer:  org.apache.kafka.common.serialization.StringDeserializer
#            producer:
#                  key-serializer: org.apache.kafka.common.serialization.StringSerializer
#                  value-serializer: org.apache.kafka.common.serialization.StringSerializer
management:
      endpoints:
            web:
                  exposure:
                        include: health
      health:
            jdbc:
                  enabled: true